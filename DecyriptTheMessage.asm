.org 100h

JMP start 


string1 db 64H,72H,34H,7fH,72H,2dH,7bH,7cH,2dH,80H,81H,7fH,6eH,7bH,74H,72H,,7fH,80H,2dH,81H,7cH,2dH,79H,7cH,83H,72H,1aH,17H,66H,7cH,82H,2dH,78H,7bH,7cH,84H,2dH,81H,75H,72H,2dH,7fH,82H,79H,72H,80H,2dH,6eH,7bH,71H,2dH,80H,7cH,2dH,71H,7cH,2dH,56H,2dH,35H,71H,7cH,2dH,56H,36H,1aH,17H,4eH,2dH,73H,82H,79H,79H,2dH,70H,7cH,7aH,7aH,76H,81H,7aH,72H,7bH,81H,34H,80H,2dH,84H,75H,6eH,81H,2dH,56H,34H,7aH,2dH,81H,75H,76H,7bH,78H,76H,7bH,74H,2dH,7cH,73H,1aH,17H,66H,7cH,82H,2dH,84H,7cH,82H,79H,71H,7bH,34H,81H,2dH,74H,72H,81H,2dH,81H,75H,76H,80H,2dH,73H,7fH,7cH,7aH,2dH,6eH,7bH,86H,2dH,7cH,81H,75H,72H,7fH,2dH,74H,82H,86H,1aH,17H,56H,2dH,77H,82H,80H,81H,2dH,84H,6eH,7bH,7bH,6eH,2dH,81H,72H,79H,79H,2dH,86H,7cH,82H,2dH,75H,7cH,84H,2dH,56H,34H,7aH,2dH,73H,72H,72H,79H,76H,7bH,74H,1aH,17H,54H,7cH,81H,81H,6eH,2dH,7aH,6eH,78H,72H,2dH,86H,7cH,82H,2dH,82H,7bH,71H,72H,7fH,80H,81H,6eH,7bH,71H,1aH,17H,5bH,72H,83H,72H,7fH,2dH,74H,7cH,7bH,7bH,6eH,2dH,74H,76H,83H,72H,2dH,86H,7cH,82H,2dH,82H,7dH,1aH,17H,5bH,72H,83H,72H,7fH,2dH,74H,7cH,7bH,7bH,6eH,2dH,79H,72H,81H,2dH,86H,7cH,82H,2dH,71H,7cH,84H,7bH,1aH,17H,5bH,72H,83H,72H,7fH,2dH,74H,7cH,7bH,7bH,6eH,2dH,7fH,82H,7bH,2dH,6eH,7fH,7cH,82H,7bH,71H,2dH,6eH,7bH,71H,2dH,71H,72H,80H,72H,7fH,81H,2dH,86H,7cH,82H,1aH,17H,5bH,72H,83H,72H,7fH,2dH,74H,7cH,7bH,7bH,6eH,2dH,7aH,6eH,78H,72H,2dH,86H,7cH,82H,2dH,70H,7fH,86H,1aH,17H,5bH,72H,83H,72H,7fH,2dH,74H,7cH,7bH,7bH,6eH,2dH,80H,6eH,86H,2dH,74H,7cH,7cH,71H,6fH,86H,72H,1aH,17H,5bH,72H,83H,72H,7fH,2dH,74H,7cH,7bH,7bH,6eH,2dH,81H,72H,79H,79H,2dH,6eH,2dH,79H,76H,72H,2dH,6eH,7bH,71H,2dH,75H,82H,7fH,81H,2dH,86H,7cH,82H,1aH,17H,64H,72H,34H,83H,72H,2dH,78H,7bH,7cH,84H,7bH,2dH,72H,6eH,70H,75H,2dH,7cH,81H,75H,72H,7fH,2dH,73H,7cH,7fH,2dH,80H,7cH,2dH,79H,7cH,7bH,74H,1aH,17H,66H,7cH,82H,7fH,2dH,75H,72H,6eH,7fH,81H,34H,80H,2dH,6fH,72H,72H,7bH,2dH,6eH,70H,75H,76H,7bH,74H,39H,2dH,6fH,82H,81H,2dH,86H,7cH,82H,34H,7fH,72H,2dH,81H,7cH,7cH,2dH,80H,75H,86H,2dH,81H,7cH,2dH,80H,6eH,86H,2dH,76H,81H,2dH,35H,80H,6eH,86H,2dH,76H,81H,36H,1aH,17H,56H,7bH,80H,76H,71H,72H,39H,2dH,84H,72H,2dH,6fH,7cH,81H,75H,2dH,78H,7bH,7cH,84H,2dH,84H,75H,6eH,81H,34H,80H
string2 db 2dH,6fH,72H,72H,7bH,'$',2dH,74H,7cH,76H,7bH,74H,2dH,7cH,7bH,2dH,35H,74H,7cH,76H,7bH,74H,2dH,7cH,7bH,36H,1aH,17H,64H,72H,2dH,78H,7bH,7cH,84H,2dH,81H,75H,72H,2dH,74H,6eH,7aH,72H,2dH,6eH,7bH,71H,2dH,84H,72H,34H,7fH,72H,2dH,74H,7cH,7bH,7bH,6eH,2dH,7dH,79H,6eH,86H,2dH,76H,81H,1aH,17H,4eH,7bH,71H,2dH,76H,73H,2dH,86H,7cH,82H,2dH,6eH,80H,78H,2dH,7aH,72H,2dH,75H,7cH,84H,2dH,56H,34H,7aH,2dH,73H,72H,72H,79H,76H,7bH,74H,1aH,17H,51H,7cH,7bH,34H,81H,2dH,81H,72H,79H,79H,2dH,7aH,72H,2dH,86H,7cH,82H,34H,7fH,72H,2dH,81H,7cH,7cH,2dH,6fH,79H,76H,7bH,71H,2dH,81H,7cH,2dH,80H,72H,72H,1aH,17H,5bH,72H,83H,72H,7fH,2dH,74H,7cH,7bH,7bH,6eH,2dH,74H,76H,83H,72H,2dH,86H,7cH,82H,2dH,82H,7dH,1aH,17H,5bH,72H,83H,72H,7fH,2dH,74H,7cH,7bH,7bH,6eH,2dH,79H,72H,81H,2dH,86H,7cH,82H,2dH,71H,7cH,84H,7bH,1aH,17H,5bH,72H,83H,72H,7fH,2dH,74H,7cH,7bH,7bH,6eH,2dH,7fH,82H,7bH,2dH,6eH,7fH,7cH,82H,7bH,71H,2dH,6eH,7bH,71H,2dH,71H,72H,80H,72H,7fH,81H,2dH,86H,7cH,82H,1aH,17H,5bH,72H,83H,72H,7fH,2dH,74H,7cH,7bH,7bH,6eH,2dH,7aH,6eH,78H,72H,2dH,86H,7cH,82H,2dH,70H,7fH,86H,1aH,17H,5bH,72H,83H,72H,7fH,2dH,74H,7cH,7bH,7bH,6eH,2dH,80H,6eH,86H,2dH,74H,7cH,7cH,71H,6fH,86H,72H,1aH,17H,5bH,72H,83H,72H,7fH,2dH,74H,7cH,7bH,7bH,6eH,2dH,81H,72H,79H,79H,2dH,6eH,2dH,79H,76H,72H,2dH,6eH,7bH,71H,2dH,75H,82H,7fH,81H,2dH,86H,7cH,82H,1aH,17H,5bH,72H,83H,72H,7fH,2dH,74H,7cH,7bH,7bH,6eH,2dH,74H,76H,83H,72H,2dH,86H,7cH,82H,2dH,82H,7dH,1aH,17H,5bH,72H,83H,72H,7fH,2dH,74H,7cH,7bH,7bH,6eH,2dH,79H,72H,81H,2dH,86H,7cH,82H,2dH,71H,7cH,84H,7bH,1aH,17H,5bH,72H,83H,72H,7fH,2dH,74H,7cH,7bH,7bH,6eH,2dH,7fH,82H,7bH,2dH,6eH,7fH,7cH,82H,7bH,71H,2dH,6eH,7bH,71H,2dH,71H,72H,80H,72H,7fH,81H,2dH,86H,7cH,82H,1aH,17H,5bH,72H,83H,72H,7fH,2dH,74H,7cH,7bH,7bH,6eH,2dH,7aH,6eH,78H,72H,2dH,86H,7cH,82H,2dH,70H,7fH,86H,1aH,17H,5bH,72H,83H,72H,7fH,2dH,74H,7cH,7bH,7bH,6eH,2dH,80H,6eH,86H,2dH,74H,7cH,7cH,71H,6fH,86H,72H,1aH,17H,5bH,72H,83H,72H,7fH,2dH,74H,7cH,7bH,7bH,6eH,2dH,81H,72H,79H,79H,2dH,6eH,2dH,79H,76H,72H,2dH,6eH,7bH,71H,2dH,75H,82H,7fH,81H,2dH,86H,7cH,82H,1aH,17H,64H,72H,34H,83H,72H,2dH,78H,7bH,7cH,84H,7bH,2dH,72H,6eH,70H,75H,2dH,7cH,81H,75H,72H,7fH,2dH,73H
string3 db 7cH,7fH,2dH,80H,7cH,2dH,'$',79H,7cH,7bH,74H,1aH,17H,66H,7cH,82H,7fH,2dH,75H,72H,6eH,7fH,81H,34H,80H,2dH,6fH,72H,72H,7bH,2dH,6eH,70H,75H,76H,7bH,74H,39H,2dH,6fH,82H,81H,2dH,86H,7cH,82H,34H,7fH,72H,2dH,81H,7cH,7cH,2dH,80H,75H,86H,2dH,81H,7cH,2dH,80H,6eH,86H,2dH,76H,81H,2dH,35H,81H,7cH,2dH,80H,6eH,86H,2dH,76H,81H,36H,1aH,17H,56H,7bH,80H,76H,71H,72H,39H,2dH,84H,72H,2dH,6fH,7cH,81H,75H,2dH,78H,7bH,7cH,84H,2dH,84H,75H,6eH,81H,34H,80H,2dH,6fH,72H,72H,7bH,2dH,74H,7cH,76H,7bH,74H,2dH,7cH,7bH,2dH,35H,74H,7cH,76H,7bH,74H,2dH,7cH,7bH,36H,1aH,17H,64H,72H,2dH,78H,7bH,7cH,84H,2dH,81H,75H,72H,2dH,74H,6eH,7aH,72H,2dH,6eH,7bH,71H,2dH,84H,72H,34H,7fH,72H,2dH,74H,7cH,7bH,7bH,6eH,2dH,7dH,79H,6eH,86H,2dH,76H,81H,1aH,17H,56H,2dH,77H,82H,80H,81H,2dH,84H,6eH,7bH,7bH,6eH,2dH,81H,72H,79H,79H,2dH,86H,7cH,82H,2dH,75H,7cH,84H,2dH,56H,34H,7aH,2dH,73H,72H,72H,79H,76H,7bH,74H,1aH,17H,54H,7cH,81H,81H,6eH,2dH,7aH,6eH,78H,72H,2dH,86H,7cH,82H,2dH,82H,7bH,71H,72H,7fH,80H,81H,6eH,7bH,71H,1aH,17H,5bH,72H,83H,72H,7fH,2dH,74H,7cH,7bH,7bH,6eH,2dH,74H,76H,83H,72H,2dH,86H,7cH,82H,2dH,82H,7dH,1aH,17H,5bH,72H,83H,72H,7fH,2dH,74H,7cH,7bH,7bH,6eH,2dH,79H,72H,81H,2dH,86H,7cH,82H,2dH,71H,7cH,84H,7bH,1aH,17H,5bH,72H,83H,72H,7fH,2dH,74H,7cH,7bH,7bH,6eH,2dH,7fH,82H,7bH,2dH,6eH,7fH,7cH,82H,7bH,71H,2dH,6eH,7bH,71H,2dH,71H,72H,80H,72H,7fH,81H,2dH,86H,7cH,82H,1aH,17H,5bH,72H,83H,72H,7fH,2dH,74H,7cH,7bH,7bH,6eH,2dH,7aH,6eH,78H,72H,2dH,86H,7cH,82H,2dH,70H,7fH,86H,1aH,17H,5bH,72H,83H,72H,7fH,2dH,74H,7cH,7bH,7bH,6eH,2dH,80H,6eH,86H,2dH,74H,7cH,7cH,71H,6fH,86H,72H,1aH,17H,5bH,72H,83H,72H,7fH,2dH,74H,7cH,7bH,7bH,6eH,2dH,81H,72H,79H,79H,2dH,6eH,2dH,79H,76H,72H,2dH,6eH,7bH,71H,2dH,75H,82H,7fH,81H,2dH,86H,7cH,82H,1aH,17H,5bH,72H,83H,72H,7fH,2dH,74H,7cH,7bH,7bH,6eH,2dH,74H,76H,83H,72H,2dH,86H,7cH,82H,2dH,82H,7dH,1aH,17H,5bH,72H,83H,72H,7fH,2dH,74H,7cH,7bH,7bH,6eH,2dH,79H,72H,81H,2dH,86H,7cH,82H,2dH,71H,7cH,84H,7bH,1aH,17H,5bH,72H,83H,72H,7fH,2dH,74H,7cH,7bH,7bH,6eH,2dH,7fH,82H,7bH,2dH,6eH,7fH,7cH,82H,7bH,71H,2dH,6eH,7bH,71H,2dH,71H,72H,80H,72H,7fH,81H,2dH,86H,7cH,82H,1aH,17H,5bH,72H,83H,72H,7fH,2dH,74H,7cH,7bH,7bH,6eH,2dH,7aH
string4 db 6eH,78H,72H,2dH,86H,7cH,82H,2dH,70H,'$',7fH,86H,1aH,17H,5bH,72H,83H,72H,7fH,2dH,74H,7cH,7bH,7bH,6eH,2dH,80H,6eH,86H,2dH,74H,7cH,7cH,71H,6fH,86H,72H,1aH,17H,5bH,72H,83H,72H,7fH,2dH,74H,7cH,7bH,7bH,6eH,2dH,81H,72H,79H,79H,2dH,6eH,2dH,79H,76H,72H,2dH,6eH,7bH,71H,2dH,75H,82H,7fH,81H,2dH,86H,7cH,82H,1aH,17H,5bH,72H,83H,72H,7fH,2dH,74H,7cH,7bH,7bH,6eH,2dH,74H,76H,83H,72H,2dH,86H,7cH,82H,2dH,82H,7dH,1aH,17H,5bH,72H,83H,72H,7fH,2dH,74H,7cH,7bH,7bH,6eH,2dH,79H,72H,81H,2dH,86H,7cH,82H,2dH,71H,7cH,84H,7bH,1aH,17H,5bH,72H,83H,72H,7fH,2dH,74H,7cH,7bH,7bH,6eH,2dH,7fH,82H,7bH,2dH,6eH,7fH,7cH,82H,7bH,71H,2dH,6eH,7bH,71H,2dH,71H,72H,80H,72H,7fH,81H,2dH,86H,7cH,82H,1aH,17H,5bH,72H,83H,72H,7fH,2dH,74H,7cH,7bH,7bH,6eH,2dH,7aH,6eH,78H,72H,2dH,86H,7cH,82H,2dH,70H,7fH,86H,1aH,17H,5bH,72H,83H,72H,7fH,2dH,74H,7cH,7bH,7bH,6eH,2dH,80H,6eH,86H,2dH,74H,7cH,7cH,71H,6fH,86H,72H,1aH,17H,5bH,72H,83H,72H,7fH,2dH,74H,7cH,7bH,7bH,6eH,2dH,81H,72H,79H,79H,2dH,6eH,2dH,79H,76H,72H,2dH,6eH,7bH,71H,2dH,75H,82H,7fH,81H,2dH,86H,7cH,82H,"$"

len dw 0   
       
start:   
     
    MOV DI,3000H ; you can see that lyrics are in that adress 0700:3000   
    
    MOV SI, OFFSET string1
    CALL task 
  
    MOV AH,09H
    INT 21H 
    HLT  
  
    
task PROC near:

     decode_loop:
         PUSH DI    ;to keep real DI value
         MOV DI,SI  
         MOV AX, '$'
         SCASB       ;string compare DI an AX 
         POP DI     ;pop the DI value
         JZ decode_done  
         LODSB   
                 
         CALL function_h 
         MOV DL,AL
         MOV AH, 0x02 ;print char to console
         INT 0x21     ;print char to console
         CLD
         STOSB
         JMP decode_loop:
    decode_done:   
    RET 
 ENDP  
       
function_f PROC near:
;x*2+4eh  
    SHL AX,1;Multiply by 2
    ADD AX,4EH;Add 4E H in hexadecimal
    RET  
ENDP
 
function_g PROC near:  
;x/2 +47h
    CALL function_f  
    SHR AX,1 ;Divide by 2
    ADD AX, 47H; Add 47h in hexadecimal
    RET   
ENDP
              
function_h PROC near:  
;x mod7B h
    CALL function_g 
    MOV CL,7BH 
    XOR AH,AH
    DIV CL 
    MOV AL,AH
    RET      
ENDP
            
                                    